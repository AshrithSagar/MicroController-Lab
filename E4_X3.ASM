; Implement an 8-bit octal up counter.

ORG 0000H		 			; ORIGINATE
AJMP START					; JUMP TO THE LABEL START

START:
	MOV R0, #00H 			; INITIALISE COUNTER
	MOV R1, #08H 			; OCTAL BASE

ITER:
	MOV A, R0 				; LOAD THE COUNTER
	MOV P2, A 				; SHOW IN PORT-2
	LCALL DELAY 			; AWAIT

	INC A 					; INCREMENT THE ACCUMULATOR
	MOV R0, A 				; SAVE THE COUNTER			
	
	DJNZ R1, ITER 			; REPEAT UNTIL (R1) IS ZERO
	
	SJMP START 				; REPEAT IN A LOOP

DELAY:
	; AWAIT (0FH*0FFH*0FFH*02H) MACHINE CYCLES
	MOV R3, #0FH
	UP1:
		MOV R4, #0FFH
		UP2:
			MOV R5, #0FFH
			UP3:
				NOP
				NOP			
			DJNZ R5, UP3
		DJNZ R4, UP2
	DJNZ R3, UP1
	
	RET 					; RETURN BACK TO THE MAIN LOOP
	END
