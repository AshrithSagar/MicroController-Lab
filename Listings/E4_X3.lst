A51 MACRO ASSEMBLER  E4_X3                                                                08/31/2022 19:09:53 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\E4_X3.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE E4_X3.ASM SET(SMALL) DEBUG PRINT(.\Listings\E4_X3.lst) OBJECT(.\Objects
                      \E4_X3.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ; Implement an 8-bit octal up counter.
                       2     
0000                   3     ORG 0000H                                               ; ORIGINATE
0000 0102              4     AJMP START                                              ; JUMP TO THE LABEL START
                       5     
0002                   6     START:
0002 7800              7             MOV R0, #00H                            ; INITIALISE COUNTER
                       8     
0004 7A08              9             MOV R2, #08H                            ; UPPER NIBBLE; (OCTAL BASE - 1)
0006                  10             U_ITER:
0006 7908             11                     MOV R1, #08H                    ; LOWER NIBBLE; (OCTAL BASE - 1)
0008                  12                     L_ITER:
0008 E8               13                             MOV A, R0                       ; LOAD THE COUNTER
0009 F5A0             14                             MOV P2, A                       ; SHOW IN PORT-2
                      15                             ; LCALL DELAY           ; AWAIT
                      16     
000B 04               17                             INC A                           ; INCREMENT THE ACCUMULATOR
000C F8               18                             MOV R0, A                       ; SAVE THE COUNTER
                      19     
000D D9F9             20                             DJNZ R1, L_ITER         ; REPEAT FOR LOWER NIBBLE
                      21     
000F 2408             22                     ADD A, #08H                     ; ADD TO GO TO THE NEXT VALID OCTAL NUMBER
0011 F8               23                     MOV R0, A                               ; SAVE THE COUNTER
                      24     
0012 DAF2             25                     DJNZ R2, U_ITER                 ; REPEAT FOR UPPER NIBBLE
0014 80EC             26             SJMP START                                      ; REPEAT IN A LOOP
                      27     
0016                  28     DELAY:
                      29             ; AWAIT (0FH*0FFH*0FFH*02H) MACHINE CYCLES
0016 7B0F             30             MOV R3, #0FH
0018                  31             UP1:
0018 7CFF             32                     MOV R4, #0FFH
001A                  33                     UP2:
001A 7DFF             34                             MOV R5, #0FFH
001C                  35                             UP3:
001C 00               36                                     NOP
001D 00               37                                     NOP
001E DDFC             38                             DJNZ R5, UP3
0020 DCF8             39                     DJNZ R4, UP2
0022 DBF4             40             DJNZ R3, UP1
                      41     
0024 22               42             RET                                             ; RETURN BACK TO THE MAIN LOOP
                      43             END
A51 MACRO ASSEMBLER  E4_X3                                                                08/31/2022 19:09:53 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

DELAY. . . . . . .  C ADDR   0016H   A   
L_ITER . . . . . .  C ADDR   0008H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
START. . . . . . .  C ADDR   0002H   A   
UP1. . . . . . . .  C ADDR   0018H   A   
UP2. . . . . . . .  C ADDR   001AH   A   
UP3. . . . . . . .  C ADDR   001CH   A   
U_ITER . . . . . .  C ADDR   0006H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
