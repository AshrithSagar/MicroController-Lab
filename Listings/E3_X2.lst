A51 MACRO ASSEMBLER  E3_X2                                                                08/24/2022 19:11:00 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\E3_X2.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE E3_X2.ASM SET(SMALL) DEBUG PRINT(.\Listings\E3_X2.lst) OBJECT(.\Objects
                      \E3_X2.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ; Find the number of occurrences of data ‘2Ah’ in a memory array.
                       2     ; The last element of the array is ‘3Ah’. The array begins at XX30h.
                       3     ; Store the result in memory location XX80h.
                       4     
0000                   5     ORG 0000H                               ; ORIGINATE
0000 0102              6     AJMP START                              ; JUMP TO THE LABEL START
                       7     
0002                   8     START:
0002 901030            9             MOV DPTR, #1030H        ; THE START LOCATION OF THE ARRAY
0005 782A             10             MOV R0, #2AH            ; THE VALUE TO BE COMPARED FOR EQUALITY
0007 C3               11             CLR C                           ; CLEAR THE CARRY
0008 7900             12             MOV R1, #00H            ; COUNT REGISTER; CLR (R1) DOESN'T WORK;
                      13     
000A                  14     REPEAT:
000A E0               15             MOVX A, @DPTR           ; GET THE DATA
000B 98               16             SUBB A, R0                      ; PERFORM A SUBTRACTION TO CHECK FOR EQUALITY
000C A3               17             INC DPTR                        ; INCREMENT TO THE NEXT ARRAY POSITION
                      18     
                      19             ; IF THE DIFFERENCE IS NOT ZERO
000D 7001             20             JNZ CHECK
                      21     
                      22             ; IF THE DIFFERENCE IS ZERO, UPDATE COUNT AND PROCEED TO CHECK
000F 09               23             INC R1
                      24     
0010                  25     CHECK:
                      26             ; CHECK WHETHER TO STOP
0010 9410             27             SUBB A, #10H            ; SUBTRACT 10H TO CHECK FOR STOP CONDITION
                      28     
                      29             ; REPEAT THE PROCESS IF NOT REACHED THE STOP CONDITION
0012 70F6             30             JNZ REPEAT
                      31     
0014                  32     STORE:
                      33             ; STOP AND STORE THE FINAL COUNT IN THE DESIRED LOCATION
0014 E9               34             MOV A, R1
0015 901050           35             MOV DPTR, #1050H
0018 F0               36             MOVX @DPTR, A
                      37     
0019                  38     HERE:
0019 80FE             39             SJMP HERE                       ; LOGICAL END
                      40             END
A51 MACRO ASSEMBLER  E3_X2                                                                08/24/2022 19:11:00 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

CHECK. . . . . . .  C ADDR   0010H   A   
HERE . . . . . . .  C ADDR   0019H   A   
REPEAT . . . . . .  C ADDR   000AH   A   
START. . . . . . .  C ADDR   0002H   A   
STORE. . . . . . .  C ADDR   0014H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
