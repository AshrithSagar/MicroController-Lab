; Input a 4-digit HEX address of a memory location from
; the keyboard and display its content in  the data field 
; of the display when “NEXT” key is pressed.

; LITTLE ENDIAN CONVENTION

MOV R0, #04H 				; REPEAT COUNT
INPUT:
	LCALL RDKBD 	 		; READ KEYBOARD
	PUSH E0H 				; SAVE INPUT CHARACTER
	DJNZ R0, INPUT 			; REPEAT IN A LOOP

	LCALL RDKBD				; CHECK FOR NEXT KEY PRESS
	CJNE A, #14H, START 	; BREAK OUT IF NEXT KEY NOT PRESSED

MOV R0, 83H 				; TO PACK DATA TO (DPH, DPL)
PACK:
	POP E0H 				; GET HIGHER NIBBLE
	SWAP A 					; SWAP TO ALLOW FOR PACKING DATA
	MOV @R0, A 				; MOVE TO DESTINATION (DP_)
	
	POP E0H 				; GET LOWER NIBBLE
	ORL A, @R0				; PACK THE DATA, STORE IN ACCUMULATOR
	MOV @R0, A 				; MOVE TO DESTINATION (DP_)

	DEC R0 					; DECREMENT TO POINT TO PREVIOUS ADDRESS
	CJNE @R0, #81H, PACK 	; CHECK IF DONE TWICE? FOR (DPH, DPL)

MOVX A, @DPTR 				; GET DATA FROM INPUTTED LOCATION
MOV 60H, A 					; DISPLAY PLACEHOLDER
LCALL UPPDT 				; DISPLAY ROUTINE
