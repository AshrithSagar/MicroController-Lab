; Input two 2-digit HEX numbers from the keyboard. Display each 
; number in the data field and when NEXT key is pressed display 
; their product in the address field of the display.

START:
	MOV R0, #02H 			; 78 02 ; NUMBER OF INPUTS

INPUT:
	LCALL RDKBD 			; 12 02 A2 ; READ FIRST NIBBLE
	MOV F0H, A 				; F5 F0 ; SAVE IN REG (B)
	LCALL RDKBD 			; 12 02 A2 ; READ SECOND NIBBLE
	SWAP A 					; C4 ; SWAP FOR PACKING
	ORL A, F0H 				; 45 F0 ; PACK THE NUMBER
	PUSH A 					; C0 E0 ; SAVE A COPY OF THE INPUT IN STACK
	MOV 60H, A 				; F5 60 ; DISPLAY PLACEHOLDER
	MOV F0H, #00H 			; 75 00 F0 ; NO DOT IN DISPLAY
	LCALL UPPDT	 			; 12 01 9B ; DISPLAY IN DATA FIELD
	
	DJNZ R0, INPUT 			; D8 _E9_	; TAKE TWO INPUTS

	LCALL RDKBD 			; 12 02 A2 ; READ FOR NEXT KEYPRESS
	CJNE A, #14H, START 	; B4 14 _E1_ ; REPEAT PROGRAM, IF NOT PRESSED NEXT KEY
	
	POP A					; D0 E0 ; GET SECOND NUMBER
	MOV F0H, A				; F5 F0 ; LOAD IN REG (B)
	POP A 					; D0 E0 ; GET FIRST NUMBER
	MUL AB 					; A4 ; MULTIPLY THE INPUTS
	
	MOV 60H, A 				; F5 60 ; FOR DISPLAYING LOWER NIBBLE OF PRODUCT
	MOV 61H, F0H			; 85 F0 61 ; FOR DISPLAYING UPPER NIBBLE OF PRODUCT
	MOV F0H, #00H 			; 75 00 F0 ; NO DOT IN DISPLAY
	LCALL UPDAD				; 12 02 0B ; DISPLAY IN ADDRESS FIELD
	
	LJMP START 				; 12 80 00 ; REPEAT THE PROGRAM
